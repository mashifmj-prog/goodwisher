:root{
  --bg:#f7fafc; --card:#fff; --text:#1f2937; --muted:#6b7280;
  --accent:#0f766e; --border:#e5e7eb;
}
[data-theme="dark"]{
  --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#9ca3af; --accent:#34d399; --border:#374151;
}
*{box-sizing:border-box}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);margin:0;padding:16px;transition:background .2s,color .2s}
.container{max-width:760px;margin:0 auto}
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.title{color:var(--accent);font-size:1.4rem;margin:0}
.icon-btn{background:none;border:none;color:var(--muted);cursor:pointer}
.card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:12px}
.sub{color:var(--muted);text-align:center;margin-bottom:8px}
.row{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.small-gap{gap:6px}
select,input,textarea{width:100%;padding:8px;border-radius:6px;border:1px solid var(--border);background:var(--card);color:var(--text);font-size:0.95rem}
.textarea-wrap{position:relative;margin-bottom:6px}
textarea{min-height:110px;resize:vertical;padding:8px;font-size:0.95rem;border-radius:6px}
.clear-center{margin:0 auto 8px auto;display:block}
.emoji-btn{position:absolute;top:-36px;right:8px;border:none;background:transparent;font-size:18px;cursor:pointer;color:var(--muted)}
.names-wrap{display:flex;gap:8px;margin-top:6px}
.name-input{position:relative;flex:1}
.name-input input{padding-right:28px}
.clear-name{position:absolute;right:6px;top:50%;transform:translateY(-50%);border:none;background:none;cursor:pointer;color:var(--muted);font-size:0.9rem}
.small-label{display:block;font-size:0.8rem;color:var(--muted);margin-bottom:4px}
.actions{flex-wrap:wrap}
.btn{background:var(--accent);color:#fff;border:none;border-radius:8px;padding:8px 12px;cursor:pointer;font-size:0.95rem}
.btn.light{background:transparent;color:var(--accent);border:1px solid var(--border)}
.btn.small{padding:6px 10px;font-size:0.9rem}
.btn.big{width:100%}
.tiny{font-size:0.8rem;color:var(--muted);text-align:center;margin-top:8px}

/* Emoji popup */
#emojiPicker {
  position: absolute;
  background: var(--card);
  border: 1px solid var(--border);
  padding: 8px;
  border-radius: 8px;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 6px;
  z-index: 1400;
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
}
#emojiPicker button{background:none;border:none;font-size:20px;cursor:pointer;padding:6px;border-radius:6px}

/* Modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);z-index:1000}
.modal.hidden{display:none}
.modal-content{background:var(--card);border-radius:10px;padding:14px;max-width:420px;width:90%;border:1px solid var(--border)}
.star-percent-wrap{display:flex;justify-content:space-between;margin-bottom:8px}
.star-col{display:flex;flex-direction:column;align-items:center;width:18%}
.star{background:none;border:none;font-size:1.6rem;color:var(--muted);cursor:pointer}
.star.selected{color:#fbbf24}
.rating-score{color:var(--accent);font-weight:600;text-align:center;margin-bottom:8px}
.modal-actions{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}
.share-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}

/* Responsive tweaks */
@media (max-width:560px){
  .row{flex-direction:column;align-items:stretch}
  .names-wrap{flex-direction:column}
  .emoji-btn{top:-40px;right:6px}
  #emojiPicker{grid-template-columns:repeat(5,1fr)}
}
